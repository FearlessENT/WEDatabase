{% extends 'management/base.html' %}

{% block content %}
<h2>Order List</h2>

<!-- Filters -->
<div>
    <label for="statusFilter">Order Status:</label>
    <select id="statusFilter" onchange="filterOrders()">
        <option value="all">All</option>
        <option value="completed">Completed</option>
        <option value="notCompleted">Not Completed</option>
    </select>
</div>



<form method="get" action=".">
    <select name="num_orders" onchange="this.form.submit()">
        <option value="10" {% if num_orders == '10' %}selected{% endif %}>10</option>
        <option value="20" {% if num_orders == '20' %}selected{% endif %}>20</option>
        <option value="30" {% if num_orders == '30' %}selected{% endif %}>30</option>
        <!-- Add more options as needed -->
    </select>
</form>




<!-- Search Form -->
<form method="get" action=".">
    <!-- Customer Info Search -->
    <input type="text" name="customer_search" placeholder="Customer Name" value="{{ customer_query }}">
    <!-- Additional customer fields can be added here -->

    <!-- Order Details Search -->
    <input type="text" name="order_search" placeholder="Order Number" value="{{ order_query }}">
    <input type="text" name="product_search" placeholder="Product Code" value="{{ product_query }}">
    <input type="text" name="job_search" placeholder="Job" value="{{ job_query }}">

    <input type="submit" value="Search">
</form>


<!-- Order Table -->
<table>
    <thead>
        <tr>
            <th>Order Number</th>
            <th>Customer Name</th>
            <th>Order Date</th>
            <th>Status</th>
            <!-- Add more headers as needed -->
        </tr>
    </thead>
    <tbody>
        {% for order in page_obj %}
        <tr>
            <td><a href="{% url 'order_detail' order.sage_order_number %}">{{ order.sage_order_number }}</a></td>
            <td><a href="{% url 'customer_orders' order.customer.customer_id %}">{{ order.customer.name }}</a></td>
            <td>{{ order.order_date }}</td>
            <td>{{ order.status }}</td>
            <!-- Add more data cells as needed -->
        </tr>
        {% endfor %}

        

    </tbody>
</table>





{% if page_obj.has_next %}
    <button id="show-more" data-next-page="{{ page_obj.next_page_number }}">Show More</button>
{% endif %}







{% endblock %}
